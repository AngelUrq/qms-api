(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2944d215"],{b9b9:function(t,e,a){var n;(function(o){"use strict";var i=function(){var t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,a=/[^-+\dA-Z]/g;return function(n,o,d,m){if(1!==arguments.length||"string"!==c(n)||/\d/.test(n)||(o=n,n=void 0),n=n||new Date,n instanceof Date||(n=new Date(n)),isNaN(n))throw TypeError("Invalid date");o=String(i.masks[o]||o||i.masks["default"]);var u=o.slice(0,4);"UTC:"!==u&&"GMT:"!==u||(o=o.slice(4),d=!0,"GMT:"===u&&(m=!0));var h=d?"getUTC":"get",v=n[h+"Date"](),f=n[h+"Day"](),y=n[h+"Month"](),g=n[h+"FullYear"](),p=n[h+"Hours"](),D=n[h+"Minutes"](),b=n[h+"Seconds"](),F=n[h+"Milliseconds"](),M=d?0:n.getTimezoneOffset(),P=s(n),T=l(n),w={d:v,dd:r(v),ddd:i.i18n.dayNames[f],dddd:i.i18n.dayNames[f+7],m:y+1,mm:r(y+1),mmm:i.i18n.monthNames[y],mmmm:i.i18n.monthNames[y+12],yy:String(g).slice(2),yyyy:g,h:p%12||12,hh:r(p%12||12),H:p,HH:r(p),M:D,MM:r(D),s:b,ss:r(b),l:r(F,3),L:r(Math.round(F/10)),t:p<12?i.i18n.timeNames[0]:i.i18n.timeNames[1],tt:p<12?i.i18n.timeNames[2]:i.i18n.timeNames[3],T:p<12?i.i18n.timeNames[4]:i.i18n.timeNames[5],TT:p<12?i.i18n.timeNames[6]:i.i18n.timeNames[7],Z:m?"GMT":d?"UTC":(String(n).match(e)||[""]).pop().replace(a,""),o:(M>0?"-":"+")+r(100*Math.floor(Math.abs(M)/60)+Math.abs(M)%60,4),S:["th","st","nd","rd"][v%10>3?0:(v%100-v%10!=10)*v%10],W:P,N:T};return o.replace(t,(function(t){return t in w?w[t]:t.slice(1,t.length-1)}))}}();function r(t,e){t=String(t),e=e||2;while(t.length<e)t="0"+t;return t}function s(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);var a=new Date(e.getFullYear(),0,4);a.setDate(a.getDate()-(a.getDay()+6)%7+3);var n=e.getTimezoneOffset()-a.getTimezoneOffset();e.setHours(e.getHours()-n);var o=(e-a)/6048e5;return 1+Math.floor(o)}function l(t){var e=t.getDay();return 0===e&&(e=7),e}function c(t){return null===t?"null":void 0===t?"undefined":"object"!==typeof t?typeof t:Array.isArray(t)?"array":{}.toString.call(t).slice(8,-1).toLowerCase()}i.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},i.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},n=function(){return i}.call(e,a,e,t),void 0===n||(t.exports=n)})()},c466:function(t,e,a){"use strict";function n(t){let e=a("b9b9");return e(t,"yyyy/mm/dd, HH:MM:ss")}a.d(e,"a",(function(){return n}))},e6c4:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("material-card",{attrs:{color:"orange darken-1",title:"Gestor de formatos para planes de acción",buttonActivated:"",buttonColor:"orange lighten-2",formatManagerActived:""},on:{saveActionPlanFormat:t.saveActionPlanFormat}},[a("v-card-title",{staticClass:"mb-5"},[a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-data-table",{attrs:{headers:t.headers,items:t.actionPlanFormats,"item-key":"_id",search:t.search,"hide-default-footer":""},scopedSlots:t._u([{key:"item.create",fn:function(e){var n=e.item;return[a("v-btn",{staticClass:"mr-1",attrs:{"x-small":"",text:"",icon:"",color:"blue-grey lighten-1",to:"/action-plan-format-editor?id="+n._id}},[a("v-icon",[t._v("mdi-clipboard-text-outline")])],1)]}},{key:"item.update",fn:function(e){var n=e.item;return[a("v-btn",{staticClass:"mr-1",attrs:{"x-small":"",text:"",icon:"",color:"blue-grey lighten-1"},on:{click:function(e){return t.showEditActionPlanFormat(n)}}},[a("v-icon",[t._v("mdi-border-color")])],1),a("EditActionPlanFormat",{model:{value:t.showEditActionPlanFormatForm,callback:function(e){t.showEditActionPlanFormatForm=e},expression:"showEditActionPlanFormatForm"}})]}},{key:"item.delete",fn:function(e){var n=e.item;return[a("v-btn",{staticClass:"mr-1",attrs:{"x-small":"",text:"",icon:"",color:"blue-grey lighten-1"},on:{click:function(e){return t.showDeleteDialog(n)}}},[a("v-icon",[t._v("mdi-delete")])],1)]}}])})],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:t.showDelete,callback:function(e){t.showDelete=e},expression:"showDelete"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Eliminar")]),a("v-card-text",[t._v("¿Eliminar este plan de acción?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"pink lighten-3",text:""},on:{click:function(e){return t.deleteActionPlanFormat()}}},[t._v("Eliminar")]),a("v-btn",{attrs:{color:"pink lighten-3",text:""},on:{click:function(e){t.showDelete=!1}}},[t._v("Cancelar")])],1)],1)],1)],1)},o=[],i=a("56d7"),r=a("bc3a"),s=a.n(r),l=a("f601"),c=a("c466"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{width:"60%"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Editar Formato de Plan de Acción")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Nombre*",required:""},model:{value:t.actionPlanFormatData.name,callback:function(e){t.$set(t.actionPlanFormatData,"name",e)},expression:"actionPlanFormatData.name"}})],1)],1)],1),a("small",[t._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.closeDialog()}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.saveActionPlanFormat()}}},[t._v("Save")])],1)],1)],1)},m=[],u={props:{value:Boolean},data(){return{actionPlanFormatID:"",actionPlanFormatData:{name:""}}},computed:{show:{get(){return this.value},set(){this.$emit("input",!1)}}},created(){i["EventBus"].$on("editActionPlanFormat",t=>{this.actionPlanFormatData.name=t.name,this.actionPlanFormatID=t._id})},methods:{saveActionPlanFormat(){let t={headers:{"x-access-token":this.$store.state.token}};s.a.put(l["b"]+"/api/action-plan-formats/"+this.actionPlanFormatID,{name:this.actionPlanFormatData.name,lastModificationDate:(new Date).toISOString()},t).then(t=>{console.log("Action plan format has been modified!"),this.$emit("input",!1)}).catch(t=>{console.log("An error has occurred: "+t)})},closeDialog(){this.$emit("input",!1)}}},h=u,v=a("2877"),f=a("6544"),y=a.n(f),g=a("8336"),p=a("b0af"),D=a("99d9"),b=a("62ad"),F=a("a523"),M=a("169a"),P=a("0fd9"),T=a("2fa4"),w=a("8654"),x=Object(v["a"])(h,d,m,!1,null,null,null),A=x.exports;y()(x,{VBtn:g["a"],VCard:p["a"],VCardActions:D["a"],VCardText:D["b"],VCardTitle:D["c"],VCol:b["a"],VContainer:F["a"],VDialog:M["a"],VRow:P["a"],VSpacer:T["a"],VTextField:w["a"]});var k={components:{EditActionPlanFormat:A},data:function(){return{search:"",showEditActionPlanFormatForm:!1,showDelete:!1,selectedItem:{},headers:[{sortable:!1,text:"Nombre del plan de acción",value:"name"},{sortable:!1,text:"Fecha de creación",value:"creationDate"},{sortable:!1,text:"Última modificación",value:"lastModificationDate"},{text:"Crear",value:"create"},{text:"Editar",value:"update"},{text:"Borrar",value:"delete"}],actionPlanFormats:[],actionPlan:{name:"default",creationDate:null,lastModificationDate:null,structure:[]}}},mounted:function(){this.getActionPlanFormats()},methods:{getActionPlanFormats(){let t={headers:{"x-access-token":this.$store.state.token}};s.a.get(l["b"]+"/api/action-plan-formats",t).then(t=>{this.actionPlanFormats=t.data;for(let e=0;e<this.actionPlanFormats.length;e++)this.actionPlanFormats[e].creationDate=Object(c["a"])(this.actionPlanFormats[e].creationDate),this.actionPlanFormats[e].lastModificationDate=Object(c["a"])(this.actionPlanFormats[e].lastModificationDate)}).catch(t=>{console.log(t)})},saveActionPlanFormat(t){let e={headers:{"x-access-token":this.$store.state.token}};this.actionPlan.name=t,this.actionPlan.creationDate=new Date,this.actionPlan.lastModificationDate=new Date,s.a.post(l["b"]+"/api/action-plan-formats",this.actionPlan,e).then(t=>{console.log(t.data)}).catch(t=>{console.log(t)})},showEditActionPlanFormat(t){this.showEditActionPlanFormatForm=!0,i["EventBus"].$emit("editActionPlanFormat",t)},deleteActionPlanFormat(){let t={headers:{"x-access-token":this.$store.state.token}};s.a.delete(l["b"]+"/api/action-plan-formats/"+this.selectedItem._id,t).then(t=>{console.log(t),this.showDelete=!1,this.getActionPlanFormats()}).catch(t=>{console.log(t)})},showDeleteDialog(t){this.showDelete=!0,this.selectedItem=t},changeDateFormat(t){let e=a("b9b9");return e(t,"yyyy/mm/dd, HH:MM:ss")}}},C=k,V=a("8fea"),N=a("132d"),H=Object(v["a"])(C,n,o,!1,null,null,null);e["default"]=H.exports;y()(H,{VBtn:g["a"],VCard:p["a"],VCardActions:D["a"],VCardText:D["b"],VCardTitle:D["c"],VCol:b["a"],VContainer:F["a"],VDataTable:V["a"],VDialog:M["a"],VIcon:N["a"],VRow:P["a"],VSpacer:T["a"],VTextField:w["a"]})}}]);
//# sourceMappingURL=chunk-2944d215.154fbff8.js.map