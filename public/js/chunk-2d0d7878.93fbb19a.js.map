{"version":3,"sources":["webpack:///./src/views/action-plan/ActionsTable.vue?14e5","webpack:///src/views/action-plan/ActionsTable.vue","webpack:///./src/views/action-plan/ActionsTable.vue?c972","webpack:///./src/views/action-plan/ActionsTable.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_l","header","i","key","_s","activity","index","isAdminOrGeneralResponsable","model","value","callback","$$v","$set","expression","items","verifyAuthorizedUser","responsable","scopedSlots","_u","fn","ref","on","_g","verifyLastRow","actionsData","length","addActivity","$event","removeActivity","getAttachmentRoute","staticRenderFns","props","type","Array","default","actualUser","Object","responsible","actionsHeaders","users","actionPlanID","attachmentRoute","getUsers","checkActionsData","$route","query","id","methods","name","description","proposedDate","realDate","eventCreated","push","splice","config","headers","$store","state","token","a","get","then","response","data","catch","error","console","log","formatUsers","forEach","user","fullname","getNameWithFormat","firstNames","paternalLastName","maternalLastName","text","_id","responsableActivity","$emit","$router","component","VBtn","VCard","VCol","VCombobox","VContainer","VDatePicker","VIcon","VMenu","VRow","VTextField","VTextarea"],"mappings":"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","file":"js/chunk-2d0d7878.93fbb19a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-card',{staticClass:\"pt-5 mb-5 white--text\",attrs:{\"color\":\"light-blue darken-4\"}},[_c('h4',{staticClass:\"text-center pb-5\"},[_vm._v(\"ACCIONES PARA ELIMINAR LA CAUSA RAÍZ\")])]),_c('v-row',[_vm._l((_vm.actionsHeaders),function(header,i){return _c('v-col',{key:i},[_c('h4',[_vm._v(_vm._s(header))])])}),_c('div',{staticClass:\"mr-5 mt-3\"},[_c('b',[_vm._v(\"Opciones\")])])],2),_vm._l((_vm.actionsData),function(activity,index){return _c('v-row',{key:index},[_c('v-col',[_c('v-textarea',{staticClass:\"mt-3\",attrs:{\"auto-grow\":\"\",\"rows\":\"1\",\"color\":\"blue darken-3\",\"label\":\"Actividad\",\"outlined\":\"\",\"readonly\":!_vm.isAdminOrGeneralResponsable()},model:{value:(activity.name),callback:function ($$v) {_vm.$set(activity, \"name\", $$v)},expression:\"activity.name\"}})],1),_c('v-col',[_c('v-combobox',{attrs:{\"color\":\"blue darken-3\",\"item-color\":\"blue\",\"items\":_vm.items,\"label\":\"Responsable\",\"autocomplete\":false,\"dense\":\"\",\"readonly\":!_vm.isAdminOrGeneralResponsable()},model:{value:(activity.responsable),callback:function ($$v) {_vm.$set(activity, \"responsable\", $$v)},expression:\"activity.responsable\"}})],1),_c('v-col',[_c('v-textarea',{staticClass:\"mt-3\",attrs:{\"auto-grow\":\"\",\"rows\":\"1\",\"color\":\"blue darken-3\",\"label\":\"Descripcion\",\"outlined\":\"\",\"readonly\":!_vm.verifyAuthorizedUser(activity.responsable)},model:{value:(activity.description),callback:function ($$v) {_vm.$set(activity, \"description\", $$v)},expression:\"activity.description\"}})],1),_c('v-col',[_c('v-menu',{attrs:{\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"color\":\"light-blue darken-4\",\"max-width\":\"290px\",\"min-width\":\"290px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-text-field',_vm._g({attrs:{\"placeholder\":\"YY/mm/dd\",\"prepend-icon\":\"mdi-calendar\",\"color\":\"light-blue darken-4\"},model:{value:(activity.proposedDate),callback:function ($$v) {_vm.$set(activity, \"proposedDate\", $$v)},expression:\"activity.proposedDate\"}},on))]}}],null,true)},[_c('v-date-picker',{attrs:{\"color\":\"light-blue darken-4\",\"locale\":\"es-419\",\"min\":\"2017/01\",\"no-title\":\"\",\"disabled\":!_vm.verifyAuthorizedUser(activity.responsable)},model:{value:(activity.proposedDate),callback:function ($$v) {_vm.$set(activity, \"proposedDate\", $$v)},expression:\"activity.proposedDate\"}})],1)],1),_c('v-col',[_c('v-menu',{attrs:{\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"color\":\"light-blue darken-4\",\"max-width\":\"290px\",\"min-width\":\"290px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-text-field',_vm._g({attrs:{\"color\":\"light-blue darken-4\",\"placeholder\":\"YY/mm/dd\",\"prepend-icon\":\"mdi-calendar\"},model:{value:(activity.realDate),callback:function ($$v) {_vm.$set(activity, \"realDate\", $$v)},expression:\"activity.realDate\"}},on))]}}],null,true)},[_c('v-date-picker',{attrs:{\"color\":\"light-blue darken-4\",\"locale\":\"es-419\",\"min\":\"2017/01\",\"no-title\":\"\",\"disabled\":!_vm.verifyAuthorizedUser(activity.responsable)},model:{value:(activity.realDate),callback:function ($$v) {_vm.$set(activity, \"realDate\", $$v)},expression:\"activity.realDate\"}})],1)],1),(!_vm.verifyLastRow(index, _vm.actionsData.length))?_c('v-btn',{staticClass:\"mt-4 mr-2 white--text\",attrs:{\"color\":\"light-blue darken-2\",\"disabled\":!_vm.isAdminOrGeneralResponsable(),\"fab\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.removeActivity(index)}}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"mdi-minus\")])],1):_c('v-btn',{staticClass:\"mt-4 mr-2 white--text\",attrs:{\"color\":\"light-blue darken-2\",\"disabled\":!_vm.isAdminOrGeneralResponsable(),\"fab\":\"\",\"small\":\"\"},on:{\"click\":_vm.addActivity}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"mdi-plus\")])],1),_c('v-btn',{staticClass:\"mt-4 mr-2 white--text\",attrs:{\"color\":\"light-blue darken-2\",\"fab\":\"\",\"small\":\"\",\"disabled\":!_vm.verifyAuthorizedUser(activity.responsable)},on:{\"click\":function($event){return _vm.getAttachmentRoute(activity)}}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"mdi-paperclip\")])],1)],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-card class=\"pt-5 mb-5 white--text\" color=\"light-blue darken-4\">\r\n      <h4 class=\"text-center pb-5\">ACCIONES PARA ELIMINAR LA CAUSA RAÍZ</h4>\r\n    </v-card>\r\n    <v-row>\r\n      <v-col v-for=\"(header, i) in actionsHeaders\" :key=\"i\">\r\n        <h4>{{ header }}</h4>\r\n      </v-col>\r\n      <div class=\"mr-5 mt-3\">\r\n        <b>Opciones</b>\r\n      </div>\r\n    </v-row>\r\n    <v-row v-for=\"(activity, index) in actionsData\" :key=\"index\">\r\n      <v-col>\r\n        <v-textarea\r\n          auto-grow\r\n          rows=\"1\"\r\n          color=\"blue darken-3\"\r\n          class=\"mt-3\"\r\n          label=\"Actividad\"\r\n          outlined\r\n          v-model=\"activity.name\"\r\n          :readonly=\"!isAdminOrGeneralResponsable()\"\r\n        ></v-textarea>\r\n      </v-col>\r\n      <v-col>\r\n        <v-combobox\r\n          color=\"blue darken-3\"\r\n          item-color=\"blue\"\r\n          v-model=\"activity.responsable\"\r\n          :items=\"items\"\r\n          label=\"Responsable\"\r\n          :autocomplete=\"false\"\r\n          dense\r\n          :readonly=\"!isAdminOrGeneralResponsable()\"\r\n        ></v-combobox>\r\n      </v-col>\r\n      <v-col>\r\n        <v-textarea\r\n          auto-grow\r\n          rows=\"1\"\r\n          color=\"blue darken-3\"\r\n          class=\"mt-3\"\r\n          label=\"Descripcion\"\r\n          outlined\r\n          v-model=\"activity.description\"\r\n          :readonly=\"!verifyAuthorizedUser(activity.responsable)\"\r\n        ></v-textarea>\r\n      </v-col>\r\n\r\n      <v-col>\r\n        <v-menu\r\n          :close-on-content-click=\"false\"\r\n          transition=\"scale-transition\"\r\n          offset-y\r\n          color=\"light-blue darken-4\"\r\n          max-width=\"290px\"\r\n          min-width=\"290px\"\r\n        >\r\n          <template v-slot:activator=\"{ on }\">\r\n            <v-text-field\r\n              v-model=\"activity.proposedDate\"\r\n              placeholder=\"YY/mm/dd\"\r\n              prepend-icon=\"mdi-calendar\"\r\n              color=\"light-blue darken-4\"\r\n              v-on=\"on\"\r\n            ></v-text-field>\r\n          </template>\r\n          <v-date-picker\r\n            v-model=\"activity.proposedDate\"\r\n            color=\"light-blue darken-4\"\r\n            locale=\"es-419\"\r\n            min=\"2017/01\"\r\n            no-title\r\n            :disabled=\"!verifyAuthorizedUser(activity.responsable)\"\r\n          ></v-date-picker>\r\n        </v-menu>\r\n      </v-col>\r\n\r\n      <v-col>\r\n        <v-menu\r\n          :close-on-content-click=\"false\"\r\n          transition=\"scale-transition\"\r\n          offset-y\r\n          color=\"light-blue darken-4\"\r\n          max-width=\"290px\"\r\n          min-width=\"290px\"\r\n        >\r\n          <template v-slot:activator=\"{ on }\">\r\n            <v-text-field\r\n              v-model=\"activity.realDate\"\r\n              color=\"light-blue darken-4\"\r\n              placeholder=\"YY/mm/dd\"\r\n              prepend-icon=\"mdi-calendar\"\r\n              v-on=\"on\"\r\n            ></v-text-field>\r\n          </template>\r\n          <v-date-picker\r\n            v-model=\"activity.realDate\"\r\n            color=\"light-blue darken-4\"\r\n            locale=\"es-419\"\r\n            min=\"2017/01\"\r\n            no-title\r\n            :disabled=\"!verifyAuthorizedUser(activity.responsable)\"\r\n          ></v-date-picker>\r\n        </v-menu>\r\n      </v-col>\r\n\r\n      <v-btn\r\n        v-if=\"!verifyLastRow(index, actionsData.length)\"\r\n        class=\"mt-4 mr-2 white--text\"\r\n        color=\"light-blue darken-2\"\r\n        @click=\"removeActivity(index)\"\r\n        :disabled=\"!isAdminOrGeneralResponsable()\"\r\n        fab\r\n        small\r\n      >\r\n        <v-icon dark>mdi-minus</v-icon>\r\n      </v-btn>\r\n      <v-btn\r\n        v-else\r\n        class=\"mt-4 mr-2 white--text\"\r\n        color=\"light-blue darken-2\"\r\n        @click=\"addActivity\"\r\n        :disabled=\"!isAdminOrGeneralResponsable()\"\r\n        fab\r\n        small\r\n      >\r\n        <v-icon dark>mdi-plus</v-icon>\r\n      </v-btn>\r\n\r\n      <v-btn\r\n        class=\"mt-4 mr-2 white--text\"\r\n        color=\"light-blue darken-2\"\r\n        fab\r\n        small\r\n        @click=\"getAttachmentRoute(activity)\"\r\n        :disabled=\"!verifyAuthorizedUser(activity.responsable)\"\r\n      >\r\n        <v-icon dark>mdi-paperclip</v-icon>\r\n      </v-btn>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport verifyLastRow from '@/utils/rows.js'\r\nimport axios from 'axios'\r\nimport { backendURL } from '@/data.js'\r\nimport { generateId, isActivityFieldsCompleted } from '@/utils/activity.js'\r\nimport { isAdmin, isGeneralResponsable } from '@/utils/permissions.js'\r\n\r\nexport default {\r\n  props: {\r\n    actionsData: {\r\n      type: Array,\r\n      default: function () {\r\n        return []\r\n      }\r\n    },\r\n    actualUser: {\r\n      type: Object,\r\n      default: function () {\r\n        return {}\r\n      }\r\n    },\r\n    responsible: {\r\n      type: Array,\r\n      default: function () {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      actionsHeaders: [\r\n        'Actividad',\r\n        'Responsable',\r\n        'Descripción',\r\n        'Fecha propuesta',\r\n        'Fecha real'\r\n      ],\r\n      verifyLastRow: verifyLastRow,\r\n      users: [],\r\n      items: [],\r\n      actionPlanID: '',\r\n      attachmentRoute: ''\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getUsers()\r\n    this.checkActionsData()\r\n    this.actionPlanID = this.$route.query.id\r\n  },\r\n  methods: {\r\n    addActivity () {\r\n      let activity = {\r\n        id: generateId(),\r\n        name: '',\r\n        responsable: '',\r\n        description: '',\r\n        proposedDate: '',\r\n        realDate: '',\r\n        eventCreated: false\r\n      }\r\n\r\n      this.actionsData.push(activity)\r\n    },\r\n    removeActivity (index) {\r\n      this.actionsData.splice(index, 1)\r\n    },\r\n    getUsers () {\r\n      let config = { headers: { 'x-access-token': this.$store.state.token } }\r\n\r\n      axios\r\n        .get(backendURL + '/api/users', config)\r\n        .then(response => {\r\n          this.users = response.data\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n        })\r\n        .then(() => {\r\n          this.formatUsers()\r\n        })\r\n    },\r\n    formatUsers () {\r\n      this.users.forEach(user => {\r\n        let fullname = this.getNameWithFormat(\r\n          user.firstNames,\r\n          user.paternalLastName,\r\n          user.maternalLastName\r\n        )\r\n        this.items.push({\r\n          text: fullname,\r\n          value: user._id\r\n        })\r\n      })\r\n    },\r\n    getNameWithFormat (name, paternalLastName, maternalLastName) {\r\n      return name + ' ' + paternalLastName + ' ' + maternalLastName\r\n    },\r\n    checkActionsData () {\r\n      if (this.actionsData.length < 1) {\r\n        this.addActivity()\r\n      }\r\n    },\r\n    isAdminOrGeneralResponsable () {\r\n      return isAdmin(this.actualUser) || isGeneralResponsable(this.responsible, this.actualUser)\r\n    },\r\n    verifyAuthorizedUser (responsableActivity) {\r\n      return this.isAdminOrGeneralResponsable() || responsableActivity.value === this.actualUser._id\r\n    },\r\n    getAttachmentRoute (activity) {\r\n      if (isActivityFieldsCompleted(activity)) {\r\n        this.attachmentRoute =\r\n          '/attachments?userID=' +\r\n          this.actualUser.value +\r\n          '&actionPlanID=' +\r\n          this.actionPlanID +\r\n          '&activityID=' +\r\n          activity.id\r\n\r\n        this.$emit('save-action-plan')\r\n        this.$router.push(this.attachmentRoute)\r\n      } else {\r\n        this.attachmentRoute = ''\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActionsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActionsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ActionsTable.vue?vue&type=template&id=33ad249a&\"\nimport script from \"./ActionsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ActionsTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VCard,VCol,VCombobox,VContainer,VDatePicker,VIcon,VMenu,VRow,VTextField,VTextarea})\n"],"sourceRoot":""}