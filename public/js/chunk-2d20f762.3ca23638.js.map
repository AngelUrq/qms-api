{"version":3,"sources":["webpack:///./src/views/users/ChangePassword.vue?8ba9","webpack:///src/views/users/ChangePassword.vue","webpack:///./src/views/users/ChangePassword.vue?36ca","webpack:///./src/views/users/ChangePassword.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","scopedSlots","_u","key","fn","ref","on","_g","_v","model","value","callback","$$v","dialogChangePass","expression","staticClass","emailRules","user","$set","warningAlert","successAlert","$event","stopPropagation","send","clearFields","dialogConfirmCode","verificationCode","warningAlert2","successAlert2","verifyCode","dialogUpdatePass","passwordRules","newPass","confirmPass","warningAlert3_samePass","warningAlert3_passRules","successAlert3","isDisabled","updatePassword","staticRenderFns","xsdaCodeGenerated","v","test","length","email","methods","generateCode","htmlBody","newMail","from","to","subject","text","html","a","post","then","response","console","log","catch","error","len","chars","i","charAt","Math","floor","random","$refs","form","resetValidation","validate","sendMailVerification","setTimeout","form2","put","password","component","VAlert","VBtn","VCard","VCardActions","VCardText","VCardTitle","VContainer","VDialog","VForm","VTextField"],"mappings":"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","file":"js/chunk-2d20f762.3ca23638.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"max-width\":\"600\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"color\":\"indigo darken-4\",\"x-small\":\"\",\"outlined\":\"\"}},on),[_vm._v(\"\\n    Recordar\\n    \")])]}}]),model:{value:(_vm.dialogChangePass),callback:function ($$v) {_vm.dialogChangePass=$$v},expression:\"dialogChangePass\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"indigo darken-4 lighten-1 white--text text--lighten-1\",attrs:{\"primary-title\":\"\"}},[_vm._v(\"\\n      Recuperar Contraseña\\n    \")]),_c('v-card-text',[_c('v-form',{ref:\"form\"},[_c('v-card-text',{staticClass:\"text--primary\"},[_vm._v(\"Se enviara un correo con su codigo de verificacion\")]),_c('v-container',[_c('v-text-field',{attrs:{\"color\":\"amber accent-4\",\"rules\":_vm.emailRules,\"label\":\"Correo*\",\"required\":\"\"},model:{value:(_vm.user.email),callback:function ($$v) {_vm.$set(_vm.user, \"email\", $$v)},expression:\"user.email\"}})],1)],1)],1),_c('v-card-actions',[_c('v-alert',{attrs:{\"value\":_vm.warningAlert,\"type\":\"warning\",\"dense\":\"\"}},[_vm._v(\"\\n        El correo es invalido\\n      \")]),_c('v-alert',{attrs:{\"value\":_vm.successAlert,\"type\":\"success\",\"height\":\"50\"}},[_vm._v(\"\\n        Se envio el correo!\\n      \")]),_c('div',{staticClass:\"flex-grow-1\"}),_c('v-btn',{staticClass:\"mb-3 mr-3\",attrs:{\"color\":\"indigo darken-4 lighten-1\",\"text\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.send($event)}}},[_vm._v(\"Enviar\\n      \")]),_c('v-btn',{staticClass:\"mb-3 mr-3\",attrs:{\"color\":\"indigo darken-4 lighten-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialogChangePass = false,_vm.clearFields()}}},[_vm._v(\"Cancelar\\n      \")])],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"600\"},model:{value:(_vm.dialogConfirmCode),callback:function ($$v) {_vm.dialogConfirmCode=$$v},expression:\"dialogConfirmCode\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"indigo darken-4 lighten-1 white--text text--lighten-1\",attrs:{\"primary-title\":\"\"}},[_vm._v(\"\\n        Codigo de Verificacion\\n        \")]),_c('v-card-text',[_c('v-form',{ref:\"form2\"},[_c('v-card-text',{staticClass:\"text--primary\"},[_vm._v(\"Ingrese su codigo de verificacion\")]),_c('v-container',[_c('v-text-field',{attrs:{\"color\":\"amber accent-4\",\"label\":\"Codigo\",\"required\":\"\"},model:{value:(_vm.verificationCode),callback:function ($$v) {_vm.verificationCode=$$v},expression:\"verificationCode\"}})],1)],1)],1),_c('v-card-actions',[_c('v-alert',{attrs:{\"value\":_vm.warningAlert2,\"type\":\"warning\",\"dense\":\"\"}},[_vm._v(\"\\n        El codigo no es correcto\\n      \")]),_c('v-alert',{attrs:{\"value\":_vm.successAlert2,\"type\":\"success\",\"height\":\"50\"}},[_vm._v(\"\\n        Codigo correcto!\\n      \")]),_c('div',{staticClass:\"flex-grow-1\"}),_c('v-btn',{staticClass:\"mb-3 mr-3\",attrs:{\"color\":\"indigo darken-4 lighten-1\",\"text\":\"\"},on:{\"click\":_vm.verifyCode}},[_vm._v(\"Verificar\\n      \")]),_c('v-btn',{staticClass:\"mb-3 mr-3\",attrs:{\"color\":\"indigo darken-4 lighten-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialogConfirmCode = false,_vm.clearFields()}}},[_vm._v(\"Cancelar\\n      \")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"600\"},model:{value:(_vm.dialogUpdatePass),callback:function ($$v) {_vm.dialogUpdatePass=$$v},expression:\"dialogUpdatePass\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"indigo darken-4 lighten-1 white--text text--lighten-1\",attrs:{\"primary-title\":\"\"}},[_vm._v(\"\\n        Cambiar Contraseña\\n        \")]),_c('v-card-text',[_c('v-form',{ref:\"form2\"},[_c('v-card-text',{staticClass:\"text--primary\"},[_vm._v(\"Ingrese su nueva contraseña\")]),_c('v-container',[_c('v-text-field',{attrs:{\"color\":\"amber accent-4\",\"rules\":_vm.passwordRules,\"label\":\"Nueva Contraseña\",\"required\":\"\"},model:{value:(_vm.newPass),callback:function ($$v) {_vm.newPass=$$v},expression:\"newPass\"}}),_c('v-text-field',{attrs:{\"color\":\"amber accent-4\",\"label\":\"Confrimar Contraseña\",\"required\":\"\"},model:{value:(_vm.confirmPass),callback:function ($$v) {_vm.confirmPass=$$v},expression:\"confirmPass\"}})],1)],1)],1),_c('v-card-actions',[_c('v-alert',{attrs:{\"value\":_vm.warningAlert3_samePass,\"type\":\"warning\",\"dense\":\"\"}},[_vm._v(\"\\n        La contraseña no coincide\\n      \")]),_c('v-alert',{attrs:{\"value\":_vm.warningAlert3_passRules,\"type\":\"warning\",\"dense\":\"\"}},[_vm._v(\"\\n        La contraseña no es valida\\n      \")]),_c('v-alert',{attrs:{\"value\":_vm.successAlert3,\"type\":\"success\",\"height\":\"50\"}},[_vm._v(\"\\n        Se actualizo la contraseña\\n      \")]),_c('div',{staticClass:\"flex-grow-1\"}),_c('v-btn',{staticClass:\"mb-3 mr-3\",attrs:{\"color\":\"indigo darken-4 lighten-1\",\"disabled\":_vm.isDisabled,\"text\":\"\"},on:{\"click\":_vm.updatePassword}},[_vm._v(\"Actualizar\\n      \")]),_c('v-btn',{staticClass:\"mb-3 mr-3\",attrs:{\"color\":\"indigo darken-4 lighten-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialogUpdatePass = false}}},[_vm._v(\"Regresar\\n      \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-dialog v-model=\"dialogChangePass\" max-width=\"600\">\r\n      <template v-slot:activator=\"{ on }\">\r\n        <v-btn\r\n        color=\"indigo darken-4\"\r\n        x-small\r\n        outlined\r\n        v-on=\"on\"\r\n        >\r\n        Recordar\r\n        </v-btn>\r\n      </template>\r\n      <v-card>\r\n        <v-card-title\r\n          class=\"indigo darken-4 lighten-1 white--text text--lighten-1\"\r\n          primary-title\r\n        >\r\n          Recuperar Contraseña\r\n        </v-card-title>\r\n          <v-card-text>\r\n            <v-form ref=\"form\">\r\n                <v-card-text class=\"text--primary\">Se enviara un correo con su codigo de verificacion</v-card-text>\r\n               <v-container>\r\n                    <v-text-field color=\"amber accent-4\" :rules=\"emailRules\" label=\"Correo*\" v-model=\"user.email\" required></v-text-field>\r\n                </v-container>\r\n            </v-form>\r\n          </v-card-text>\r\n        <v-card-actions>\r\n          <v-alert\r\n            :value=\"warningAlert\"\r\n            type= \"warning\"\r\n            dense\r\n          >\r\n            El correo es invalido\r\n          </v-alert>\r\n          <v-alert\r\n            :value=\"successAlert\"\r\n            type=\"success\"\r\n            height = 50\r\n          >\r\n            Se envio el correo!\r\n          </v-alert>\r\n          <div class=\"flex-grow-1\"></div>\r\n          <v-btn color=\"indigo darken-4 lighten-1\" class=\"mb-3 mr-3\" text @click.stop=\"send\">Enviar\r\n          </v-btn>\r\n          <v-btn color=\"indigo darken-4 lighten-1\" class=\"mb-3 mr-3\" text @click= \"dialogChangePass = false,clearFields()\" >Cancelar\r\n          </v-btn>\r\n        </v-card-actions>\r\n       </v-card>\r\n       <v-dialog\r\n       v-model=\"dialogConfirmCode\"\r\n       max-width=\"600\"\r\n       >\r\n        <v-card>\r\n            <v-card-title\r\n            class=\"indigo darken-4 lighten-1 white--text text--lighten-1\"\r\n            primary-title\r\n            >\r\n            Codigo de Verificacion\r\n            </v-card-title>\r\n            <v-card-text>\r\n            <v-form ref=\"form2\">\r\n                <v-card-text class=\"text--primary\">Ingrese su codigo de verificacion</v-card-text>\r\n               <v-container>\r\n                    <v-text-field color=\"amber accent-4\"  label=\"Codigo\" v-model=\"verificationCode\" required></v-text-field>\r\n                </v-container>\r\n            </v-form>\r\n          </v-card-text>\r\n            <v-card-actions>\r\n          <v-alert\r\n            :value=\"warningAlert2\"\r\n            type= \"warning\"\r\n            dense\r\n          >\r\n            El codigo no es correcto\r\n          </v-alert>\r\n          <v-alert\r\n            :value=\"successAlert2\"\r\n            type=\"success\"\r\n            height = 50\r\n          >\r\n            Codigo correcto!\r\n          </v-alert>\r\n          <div class=\"flex-grow-1\"></div>\r\n          <v-btn color=\"indigo darken-4 lighten-1\" class=\"mb-3 mr-3\" text @click=\"verifyCode\">Verificar\r\n          </v-btn>\r\n          <v-btn color=\"indigo darken-4 lighten-1\" class=\"mb-3 mr-3\" text @click= \"dialogConfirmCode = false,clearFields()\" >Cancelar\r\n          </v-btn>\r\n        </v-card-actions>\r\n        </v-card>\r\n       </v-dialog>\r\n        <v-dialog\r\n       v-model=\"dialogUpdatePass\"\r\n       max-width=\"600\"\r\n       >\r\n        <v-card>\r\n            <v-card-title\r\n            class=\"indigo darken-4 lighten-1 white--text text--lighten-1\"\r\n            primary-title\r\n            >\r\n            Cambiar Contraseña\r\n            </v-card-title>\r\n            <v-card-text>\r\n            <v-form ref=\"form2\">\r\n                <v-card-text class=\"text--primary\">Ingrese su nueva contraseña</v-card-text>\r\n               <v-container>\r\n                    <v-text-field color=\"amber accent-4\" :rules=\"passwordRules\" v-model=\"newPass\" label=\"Nueva Contraseña\" required></v-text-field>\r\n                    <v-text-field color=\"amber accent-4\" v-model=\"confirmPass\" label=\"Confrimar Contraseña\" required></v-text-field>\r\n                </v-container>\r\n            </v-form>\r\n          </v-card-text>\r\n            <v-card-actions>\r\n          <v-alert\r\n            :value=\"warningAlert3_samePass\"\r\n            type= \"warning\"\r\n            dense\r\n          >\r\n            La contraseña no coincide\r\n          </v-alert>\r\n          <v-alert\r\n            :value=\"warningAlert3_passRules\"\r\n            type= \"warning\"\r\n            dense\r\n          >\r\n            La contraseña no es valida\r\n          </v-alert>\r\n          <v-alert\r\n            :value=\"successAlert3\"\r\n            type=\"success\"\r\n            height = 50\r\n          >\r\n            Se actualizo la contraseña\r\n          </v-alert>\r\n          <div class=\"flex-grow-1\"></div>\r\n          <v-btn color=\"indigo darken-4 lighten-1\" :disabled='isDisabled' class=\"mb-3 mr-3\" @click=\"updatePassword\" text>Actualizar\r\n          </v-btn>\r\n          <v-btn color=\"indigo darken-4 lighten-1\" class=\"mb-3 mr-3\" text @click= \"dialogUpdatePass = false\" >Regresar\r\n          </v-btn>\r\n        </v-card-actions>\r\n        </v-card>\r\n       </v-dialog>\r\n     </v-dialog>\r\n     </template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport { backendURL } from '@/data.js'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      dialogChangePass: '',\r\n      dialogConfirmCode: '',\r\n      dialogUpdatePass: '',\r\n      xsdaCodeGenerated: '',\r\n      newPass: '',\r\n      confirmPass: '',\r\n      warningAlert: false,\r\n      warningAlert2: false,\r\n      warningAlert3_samePass: false,\r\n      warningAlert3_passRules: false,\r\n      successAlert: false,\r\n      successAlert2: false,\r\n      successAlert3: false,\r\n      isDisabled: false,\r\n      emailRules: [\r\n        v => !!v || 'Correo es necesario',\r\n        v => /.+@.+\\..+/.test(v) || 'Correo debe ser valido'\r\n      ],\r\n      passwordRules: [\r\n        v => !!v || 'Contraseña es necesario',\r\n        v => v.length >= 5 || 'Contraseña debe ser mas de 5 caracteres'\r\n      ],\r\n      user: {\r\n        email: ''\r\n      },\r\n      verificationCode: ''\r\n    }\r\n  },\r\n  methods: {\r\n    sendMailVerification () {\r\n      this.xsdaCodeGenerated = this.generateCode(10)\r\n      const htmlBody = `\r\n        <p>Hola!</p>\r\n        <p>Estas en proceso de cambiar tu contraseña</p>\r\n        <h3>Codigo de Verificacion</h3>\r\n        <ul>\r\n          <li> Tu codigo es: ${this.xsdaCodeGenerated}\r\n        </ul>\r\n        <p>Ingresa tu codigo para seguir con tu cambio de contraseña</p>\r\n      `\r\n      let newMail = {\r\n        from: '\"Gestion de Calidad UPB\" <UPBgestiondecalidad@gmail.com>',\r\n        to: this.user.email,\r\n        subject: 'UPB Gestion de Calidad: Recuperar Contraseña',\r\n        text: '',\r\n        html: htmlBody\r\n      }\r\n\r\n      axios.post(backendURL + '/api/mail/send', newMail)\r\n        .then((response) => {\r\n          console.log(response)\r\n        })\r\n        .catch((error) => {\r\n          console.log(error)\r\n        })\r\n    },\r\n    generateCode (len) {\r\n      let text = ''\r\n      let chars = 'abcdefghijklmnopqrstuvwxyz123456789ABCDEFGH'\r\n      for (let i = 0; i < len; i++) {\r\n        text += chars.charAt(Math.floor(Math.random() * chars.length))\r\n      }\r\n      return text\r\n    },\r\n    clearFields () {\r\n      this.$refs.form.resetValidation()\r\n    },\r\n    send () {\r\n      if (this.$refs.form.validate()) {\r\n        this.sendMailVerification()\r\n        this.clearFields()\r\n        this.successAlert = true\r\n        this.dialogConfirmCode = true\r\n        this.dialogChangePass = false\r\n        setTimeout(() => {\r\n          this.successAlert = false\r\n        }, 10000)\r\n      } else {\r\n        this.warningAlert = true\r\n        setTimeout(() => {\r\n          this.warningAlert = false\r\n        }, 10000)\r\n      }\r\n    },\r\n    verifyCode () {\r\n      if (this.verificationCode === this.xsdaCodeGenerated) {\r\n        this.warningAlert2 = false\r\n        this.successAlert2 = true\r\n        this.xsdaCodeGenerated = ''\r\n        this.dialogUpdatePass = true\r\n        this.dialogConfirmCode = false\r\n        setTimeout(() => {\r\n          this.successAlert2 = false\r\n        }, 10000)\r\n      } else {\r\n        this.successAlert2 = false\r\n        this.warningAlert2 = true\r\n        setTimeout(() => {\r\n          this.warningAlert2 = false\r\n        }, 10000)\r\n      }\r\n    },\r\n    updatePassword () {\r\n      if (this.$refs.form2.validate()) {\r\n        if (this.newPass === this.confirmPass) {\r\n          this.warningAlert3_samePass = false\r\n          this.warningAlert3_passRules = false\r\n          axios.put(backendURL + '/api/password-reset/' + this.user.email, {\r\n            password: this.confirmPass\r\n          })\r\n            .then((response) => {\r\n              console.log(response)\r\n            })\r\n            .catch((error) => {\r\n              console.log(error)\r\n            })\r\n          this.$refs.form2.resetValidation()\r\n          this.warningAlert3_passRules = false\r\n          this.warningAlert3_samePass = false\r\n          this.successAlert3 = true\r\n          this.isDisabled = true\r\n          setTimeout(() => {\r\n            this.successAlert3 = false\r\n          }, 10000)\r\n          this.user.email = ''\r\n          this.newPass = ''\r\n          this.confirmPass = ''\r\n        } else {\r\n          this.successAlert3 = false\r\n          this.warningAlert3_passRules = false\r\n          this.warningAlert3_samePass = true\r\n          setTimeout(() => {\r\n            this.warningAlert3_samePass = false\r\n          }, 10000)\r\n        }\r\n      } else {\r\n        this.successAlert3 = false\r\n        this.warningAlert3_samePass = false\r\n        this.warningAlert3_passRules = true\r\n        setTimeout(() => {\r\n          this.warningAlert3_passRules = false\r\n        }, 10000)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangePassword.vue?vue&type=template&id=3e7846b3&\"\nimport script from \"./ChangePassword.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangePassword.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardActions,VCardText,VCardTitle,VContainer,VDialog,VForm,VTextField})\n"],"sourceRoot":""}