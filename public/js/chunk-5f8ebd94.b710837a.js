(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f8ebd94","chunk-2d0d7878","chunk-2d0cc5a8"],{"0094":function(e,t,a){e.exports=a.p+"img/logoUPB.5085ae23.jpg"},"2db4":function(e,t,a){"use strict";a("ca71");var s=a("a9ad"),i=a("f2e7"),r=a("fe6c"),o=a("58df"),n=a("d9bd");t["a"]=Object(o["a"])(s["a"],i["a"],Object(r["b"])(["absolute","top","bottom","left","right"])).extend({name:"v-snackbar",props:{multiLine:Boolean,timeout:{type:Number,default:6e3},vertical:Boolean},data:()=>({activeTimeout:-1}),computed:{classes(){return{"v-snack--active":this.isActive,"v-snack--absolute":this.absolute,"v-snack--bottom":this.bottom||!this.top,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--top":this.top,"v-snack--vertical":this.vertical}}},watch:{isActive(){this.setTimeout()}},created(){this.$attrs.hasOwnProperty("auto-height")&&Object(n["d"])("auto-height",this)},mounted(){this.setTimeout()},methods:{setTimeout(){window.clearTimeout(this.activeTimeout),this.isActive&&this.timeout&&(this.activeTimeout=window.setTimeout(()=>{this.isActive=!1},this.timeout))}},render(e){return e("transition",{attrs:{name:"v-snack-transition"}},[this.isActive&&e("div",{staticClass:"v-snack",class:this.classes,on:this.$listeners},[e("div",this.setBackgroundColor(this.color,{staticClass:"v-snack__wrapper"}),[e("div",{staticClass:"v-snack__content"},this.$slots.default)])])])}})},"4e23":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"pt-5 mb-5 white--text",attrs:{color:"light-blue darken-4"}},[a("h4",{staticClass:"text-center pb-5"},[e._v("CORRECCIÓN INMEDIATA")])]),a("v-row",[e._l(e.correctionHeaders,(function(t,s){return a("v-col",{key:s},[a("h4",[e._v(e._s(t))])])})),a("div",{staticClass:"mr-5 mt-3"},[a("b",[e._v("Opciones")])])],2),e._l(e.correctionsData,(function(t,s){return a("v-row",{key:s},[a("v-col",[a("v-textarea",{staticClass:"mt-3",attrs:{"auto-grow":"",rows:"1",color:"blue darken-3",label:"Actividad",outlined:"","single-line":"",readonly:!e.isAdminOrGeneralResponsable()},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"activity.name"}})],1),a("v-col",[a("v-col",[a("v-combobox",{attrs:{color:"blue darken-3","item-color":"blue",items:e.items,label:"Responsable",autocomplete:!1,dense:"",readonly:!e.isAdminOrGeneralResponsable()},model:{value:t.responsable,callback:function(a){e.$set(t,"responsable",a)},expression:"activity.responsable"}})],1)],1),a("v-col",[a("v-textarea",{staticClass:"mt-3",attrs:{"auto-grow":"",rows:"1",color:"blue darken-3",label:"Descripcion",outlined:"","single-line":"",readonly:!e.verifyAuthorizedUser(t.responsable)},model:{value:t.description,callback:function(a){e.$set(t,"description",a)},expression:"activity.description"}})],1),a("v-col",[a("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-text-field",e._g({attrs:{placeholder:"YY/mm/dd","prepend-icon":"mdi-calendar",autocomplete:!1},model:{value:t.proposedDate,callback:function(a){e.$set(t,"proposedDate",a)},expression:"activity.proposedDate"}},i))]}}],null,!0)},[a("v-date-picker",{attrs:{color:"light-blue darken-4",locale:"es-419",min:"2017/01","no-title":"",disabled:!e.verifyAuthorizedUser(t.responsable),autocomplete:!1},model:{value:t.proposedDate,callback:function(a){e.$set(t,"proposedDate",a)},expression:"activity.proposedDate"}})],1)],1),a("v-col",[a("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-text-field",e._g({attrs:{placeholder:"YY/mm/dd","prepend-icon":"mdi-calendar",autocomplete:!1},model:{value:t.realDate,callback:function(a){e.$set(t,"realDate",a)},expression:"activity.realDate"}},i))]}}],null,!0)},[a("v-date-picker",{attrs:{color:"light-blue darken-4",locale:"es-419",autocomplete:!1,min:"2017/01","no-title":"",disabled:!e.verifyAuthorizedUser(t.responsable)},model:{value:t.realDate,callback:function(a){e.$set(t,"realDate",a)},expression:"activity.realDate"}})],1)],1),e.verifyLastRow(s,e.correctionsData.length)?a("v-btn",{staticClass:"mt-4 mr-2 white--text",attrs:{fab:"",small:"",color:"light-blue darken-2",disabled:!e.isAdminOrGeneralResponsable()},on:{click:e.addCorrection}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-plus")])],1):a("v-btn",{staticClass:"mt-4 mr-2 white--text",attrs:{fab:"",small:"",color:"light-blue darken-2",disabled:!e.isAdminOrGeneralResponsable()},on:{click:function(t){return e.removeCorrection(s)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-minus")])],1),a("v-btn",{staticClass:"mt-4 mr-2 white--text",attrs:{disabled:!e.verifyAuthorizedUser(t.responsable),color:"light-blue darken-2",fab:"",small:""},on:{click:function(a){return e.getAttachmentRoute(t)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-paperclip")])],1)],1)}))],2)},i=[],r=a("d3b8"),o=a("bc3a"),n=a.n(o),l=a("f601"),c=a("b1b8"),d=a("bade"),u={props:{correctionsData:{type:Array,default:function(){return[]}},actualUser:{type:Object,default:function(){return{}}},responsible:{type:Array,default:function(){return[]}}},data(){return{correctionHeaders:["Actividad","Responsable","Descripción","Fecha propuesta","Fecha real"],verifyLastRow:r["a"],users:[],items:[],attachmentRoute:"",actionPlanID:""}},mounted(){this.getUsers(),this.checkCorrectionsData(),this.actionPlanID=this.$route.query.id},methods:{addCorrection(){let e={id:Object(c["a"])(),name:"",responsable:"",description:"",proposedDate:"",realDate:"",eventCreated:!1};this.correctionsData.push(e)},removeCorrection(e){this.correctionsData.splice(e,1)},getUsers(){let e={headers:{"x-access-token":this.$store.state.token}};n.a.get(l["b"]+"/api/users",e).then(e=>{this.users=e.data,this.formatUsers()}).catch(e=>{console.log(e)})},formatUsers(){this.users.forEach(e=>{let t=this.getNameWithFormat(e.firstNames,e.paternalLastName,e.maternalLastName);this.items.push({text:t,value:e._id})})},getNameWithFormat(e,t,a){return e+" "+t+" "+a},checkCorrectionsData(){this.correctionsData.length<1&&this.addCorrection()},isAdminOrGeneralResponsable(){return Object(d["a"])(this.actualUser)||Object(d["b"])(this.responsible,this.actualUser)},verifyAuthorizedUser(e){return this.isAdminOrGeneralResponsable()||e.value===this.actualUser._id},getAttachmentRoute(e){Object(c["b"])(e)?(this.attachmentRoute="/attachments?userID="+this.actualUser.value+"&actionPlanID="+this.actionPlanID+"&activityID="+e.id,this.$emit("save-action-plan"),this.$router.push(this.attachmentRoute)):this.attachmentRoute=""},createEvent(){console.log("llegue")}}},h=u,p=a("2877"),m=a("6544"),b=a.n(m),v=a("8336"),f=a("b0af"),k=a("62ad"),x=a("2b5d"),g=a("a523"),y=a("2e4b"),w=a("132d"),A=a("e449"),D=a("0fd9"),C=a("8654"),_=a("a844"),R=Object(p["a"])(h,s,i,!1,null,null,null);t["default"]=R.exports;b()(R,{VBtn:v["a"],VCard:f["a"],VCol:k["a"],VCombobox:x["a"],VContainer:g["a"],VDatePicker:y["a"],VIcon:w["a"],VMenu:A["a"],VRow:D["a"],VTextField:C["a"],VTextarea:_["a"]})},"76cf":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"pt-5 mb-5 white--text",attrs:{color:"light-blue darken-4"}},[a("h4",{staticClass:"text-center pb-5"},[e._v("ACCIONES PARA ELIMINAR LA CAUSA RAÍZ")])]),a("v-row",[e._l(e.actionsHeaders,(function(t,s){return a("v-col",{key:s},[a("h4",[e._v(e._s(t))])])})),a("div",{staticClass:"mr-5 mt-3"},[a("b",[e._v("Opciones")])])],2),e._l(e.actionsData,(function(t,s){return a("v-row",{key:s},[a("v-col",[a("v-textarea",{staticClass:"mt-3",attrs:{"auto-grow":"",rows:"1",color:"blue darken-3",label:"Actividad",outlined:"",readonly:!e.isAdminOrGeneralResponsable()},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"activity.name"}})],1),a("v-col",[a("v-combobox",{attrs:{color:"blue darken-3","item-color":"blue",items:e.items,label:"Responsable",autocomplete:!1,dense:"",readonly:!e.isAdminOrGeneralResponsable()},model:{value:t.responsable,callback:function(a){e.$set(t,"responsable",a)},expression:"activity.responsable"}})],1),a("v-col",[a("v-textarea",{staticClass:"mt-3",attrs:{"auto-grow":"",rows:"1",color:"blue darken-3",label:"Descripcion",outlined:"",readonly:!e.verifyAuthorizedUser(t.responsable)},model:{value:t.description,callback:function(a){e.$set(t,"description",a)},expression:"activity.description"}})],1),a("v-col",[a("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"",color:"light-blue darken-4","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-text-field",e._g({attrs:{placeholder:"YY/mm/dd","prepend-icon":"mdi-calendar",color:"light-blue darken-4"},model:{value:t.proposedDate,callback:function(a){e.$set(t,"proposedDate",a)},expression:"activity.proposedDate"}},i))]}}],null,!0)},[a("v-date-picker",{attrs:{color:"light-blue darken-4",locale:"es-419",min:"2017/01","no-title":"",disabled:!e.verifyAuthorizedUser(t.responsable)},model:{value:t.proposedDate,callback:function(a){e.$set(t,"proposedDate",a)},expression:"activity.proposedDate"}})],1)],1),a("v-col",[a("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"",color:"light-blue darken-4","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-text-field",e._g({attrs:{color:"light-blue darken-4",placeholder:"YY/mm/dd","prepend-icon":"mdi-calendar"},model:{value:t.realDate,callback:function(a){e.$set(t,"realDate",a)},expression:"activity.realDate"}},i))]}}],null,!0)},[a("v-date-picker",{attrs:{color:"light-blue darken-4",locale:"es-419",min:"2017/01","no-title":"",disabled:!e.verifyAuthorizedUser(t.responsable)},model:{value:t.realDate,callback:function(a){e.$set(t,"realDate",a)},expression:"activity.realDate"}})],1)],1),e.verifyLastRow(s,e.actionsData.length)?a("v-btn",{staticClass:"mt-4 mr-2 white--text",attrs:{color:"light-blue darken-2",disabled:!e.isAdminOrGeneralResponsable(),fab:"",small:""},on:{click:e.addActivity}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-plus")])],1):a("v-btn",{staticClass:"mt-4 mr-2 white--text",attrs:{color:"light-blue darken-2",disabled:!e.isAdminOrGeneralResponsable(),fab:"",small:""},on:{click:function(t){return e.removeActivity(s)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-minus")])],1),a("v-btn",{staticClass:"mt-4 mr-2 white--text",attrs:{color:"light-blue darken-2",fab:"",small:"",disabled:!e.verifyAuthorizedUser(t.responsable)},on:{click:function(a){return e.getAttachmentRoute(t)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-paperclip")])],1)],1)}))],2)},i=[],r=a("d3b8"),o=a("bc3a"),n=a.n(o),l=a("f601"),c=a("b1b8"),d=a("bade"),u={props:{actionsData:{type:Array,default:function(){return[]}},actualUser:{type:Object,default:function(){return{}}},responsible:{type:Array,default:function(){return[]}}},data(){return{actionsHeaders:["Actividad","Responsable","Descripción","Fecha propuesta","Fecha real"],verifyLastRow:r["a"],users:[],items:[],actionPlanID:"",attachmentRoute:""}},mounted(){this.getUsers(),this.checkActionsData(),this.actionPlanID=this.$route.query.id},methods:{addActivity(){let e={id:Object(c["a"])(),name:"",responsable:"",description:"",proposedDate:"",realDate:"",eventCreated:!1};this.actionsData.push(e)},removeActivity(e){this.actionsData.splice(e,1)},getUsers(){let e={headers:{"x-access-token":this.$store.state.token}};n.a.get(l["b"]+"/api/users",e).then(e=>{this.users=e.data}).catch(e=>{console.log(e)}).then(()=>{this.formatUsers()})},formatUsers(){this.users.forEach(e=>{let t=this.getNameWithFormat(e.firstNames,e.paternalLastName,e.maternalLastName);this.items.push({text:t,value:e._id})})},getNameWithFormat(e,t,a){return e+" "+t+" "+a},checkActionsData(){this.actionsData.length<1&&this.addActivity()},isAdminOrGeneralResponsable(){return Object(d["a"])(this.actualUser)||Object(d["b"])(this.responsible,this.actualUser)},verifyAuthorizedUser(e){return this.isAdminOrGeneralResponsable()||e.value===this.actualUser._id},getAttachmentRoute(e){Object(c["b"])(e)?(this.attachmentRoute="/attachments?userID="+this.actualUser.value+"&actionPlanID="+this.actionPlanID+"&activityID="+e.id,this.$emit("save-action-plan"),this.$router.push(this.attachmentRoute)):this.attachmentRoute=""}}},h=u,p=a("2877"),m=a("6544"),b=a.n(m),v=a("8336"),f=a("b0af"),k=a("62ad"),x=a("2b5d"),g=a("a523"),y=a("2e4b"),w=a("132d"),A=a("e449"),D=a("0fd9"),C=a("8654"),_=a("a844"),R=Object(p["a"])(h,s,i,!1,null,null,null);t["default"]=R.exports;b()(R,{VBtn:v["a"],VCard:f["a"],VCol:k["a"],VCombobox:x["a"],VContainer:g["a"],VDatePicker:y["a"],VIcon:w["a"],VMenu:A["a"],VRow:D["a"],VTextField:C["a"],VTextarea:_["a"]})},ca71:function(e,t,a){},dae0:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{staticClass:"pa-12"},[s("v-snackbar",{attrs:{timeout:e.timeout},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n    "+e._s(e.textMessage)+"\n    "),s("v-btn",{attrs:{color:"green",text:""},on:{click:function(t){e.snackbar=!1}}},[e._v("Close")])],1),s("v-card",{staticClass:"pa-7"},[s("header",[s("v-row",{staticClass:"mb-5"},[s("v-col",{attrs:{cols:"4"}},[s("img",{attrs:{src:a("0094"),alt:"Logo UPB",width:"90"}})]),s("v-col",{attrs:{cols:"4"}},[s("h3",{staticClass:"text-center"},[e._v("FORMULARIO DE PLAN DE ACCIÓN")])])],1)],1),s("form",e._l(e.structure.rows,(function(t,a){return s("v-row",{key:a,attrs:{"no-gutters":""}},e._l(t,(function(a,i){return s("v-col",{key:i,attrs:{cols:"12",sm:"12",md:e.getWidthColumns(t.length)}},["horizontal"===a.fieldType||"vertical"===a.fieldType?s("v-textarea",{staticClass:"mr-3",attrs:{"auto-grow":"",rows:"2",color:"blue darken-3",label:a.name,outlined:"",readonly:!e.isUserAuthorized},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"column.value"}}):e._e(),"title"===a.fieldType?s("h4",{staticClass:"text-center pb-5",attrs:{readonly:!e.isUserAuthorized}},[e._v(e._s(a.name))]):e._e(),"responsible"===a.fieldType?s("div",[s("ReponsibleTable",{attrs:{responsibleData:a.value,actualUser:e.user},on:{"update-responsible-list":e.updateResponsibleList}})],1):e._e(),"corrections"===a.fieldType?s("div",[s("CorrectionTable",{attrs:{correctionsData:a.value,actualUser:e.user,responsible:e.responsible},on:{"save-action-plan":e.saveActionPlan}})],1):e._e(),"actions"===a.fieldType?s("div",[s("ActionsTable",{attrs:{actionsData:a.value,actualUser:e.user,responsible:e.responsible},on:{"save-action-plan":e.saveActionPlan}})],1):e._e()],1)})),1)})),1)]),s("v-card-actions",{staticClass:"mt-5 d-flex flex-row-reverse"},[s("v-btn",{staticClass:"white--text",attrs:{"x-large":"",color:"light-blue darken-3",width:"20%"},on:{click:e.activateProgressCircular}},[e._v("\n      "+e._s(e.text)+"\n      "),e.activateLoading?s("v-progress-circular",{attrs:{indeterminate:"",color:"white"}}):e._e()],1),s("v-btn",{staticClass:"white--text mr-5",attrs:{"x-large":"",color:"light-green darken-3",width:"20%"}},[e._v("FINALIZAR")]),s("v-btn",{staticClass:"white--text mr-5",attrs:{"x-large":"",color:"pink darken-3",width:"20%"},on:{click:function(t){return e.createEvent()}}},[e._v("Google calendar")])],1)],1)},i=[],r=a("e539"),o=a("4e23"),n=a("76cf"),l=a("bc3a"),c=a.n(l),d=a("f601"),u=a("bade"),h={components:{ReponsibleTable:r["default"],CorrectionTable:o["default"],ActionsTable:n["default"]},data(){return{idActionPlan:"",activateLoading:!1,text:"GUARDAR",actionPlanFormat:{},structure:{},responsible:[],textMessage:"",snackbar:!1,timeout:1200,descriptionIndex:{row:-1,column:-1},responsibleIndex:{row:-1,column:-1},user:{},isUserAuthorized:!1}},beforeMount(){this.getActualUser()},mounted(){this.idActionPlan=this.$route.query.id,this.getActionPlanFormat()},methods:{getWidthColumns(e){return 12/e},activateProgressCircular(){this.activateLoading=!0,this.text="",this.saveActionPlan(),setTimeout(this.disableProgressCircular,1e3)},disableProgressCircular(){this.text="GUARDAR",this.activateLoading=!1},getActionPlanFormat(){let e={headers:{"x-access-token":this.$store.state.token}};c.a.get(d["b"]+"/api/action-plans/"+this.idActionPlan,e).then(e=>{this.actionPlanFormat=e.data,this.structure=this.actionPlanFormat.structure,this.getFieldIndexes(),this.setDescription(),this.checkResponsible()}).catch(e=>{console.log(e)})},saveActionPlan(){let e={headers:{"x-access-token":this.$store.state.token}};this.existDescription()&&(this.actionPlanFormat.description=this.actionPlanFormat.structure.rows[this.descriptionIndex.row][this.descriptionIndex.column].value),c.a.put(d["b"]+"/api/action-plans/"+this.idActionPlan,this.actionPlanFormat,e).then(e=>{console.log(e),this.snackbar=!0,this.textMessage="Se ha guardado correctamente el plan de acción"}).catch(e=>{console.log(e)})},getFieldIndexes(){for(let e=0;e<this.structure.rows.length;e++)for(let t=0;t<this.structure.rows[e].length;t++)"Descripción"===this.structure.rows[e][t].name&&(this.descriptionIndex.row=e,this.descriptionIndex.column=t),"responsible"===this.structure.rows[e][t].fieldType&&(this.responsibleIndex.row=e,this.responsibleIndex.column=t)},checkResponsible(){this.responsibleIndex.row>-1&&this.responsibleIndex.column>-1?this.responsible=this.structure.rows[this.responsibleIndex.row][this.responsibleIndex.column].value:this.responsible=[]},existDescription(){return this.descriptionIndex.row>-1&&this.descriptionIndex.column>-1},setDescription(){this.existDescription()&&(this.structure.rows[this.descriptionIndex.row][this.descriptionIndex.column].value=this.actionPlanFormat.description)},getActualUser(){let e=this.$store.state.token,t={headers:{"x-access-token":e}};c.a.get(d["b"]+"/api/users/token/"+e,t).then(e=>{this.user=e.data,this.isUserAuthorized=Object(u["a"])(this.user)}).catch(e=>{console.log(e)})},updateResponsibleList(){this.responsible=this.structure.rows[this.responsibleIndex.row][this.responsibleIndex.column].value},createEvent(){let e={headers:{"x-access-token":this.$store.state.token}};this.structure.rows.forEach(t=>{t.forEach(t=>{"corrections"!==t.fieldType&&"actions"!==t.fieldType||t.value.forEach(t=>{this.isActivityInformationCompleted(t)&&!t.eventCreated&&c.a.get(d["b"]+"/api/users/"+t.responsable.value,e).then(a=>{const s={summary:t.name,description:"",startDate:new Date(Date.now()),endDate:t.proposedDate,location:"Bolivia",attendees:[{email:a.data.email}]};c.a.post(d["b"]+"/api/calendar-events/add-event",s,e).then(e=>{t.eventCreated=!0,this.snackbar=!0,this.textMessage="Se han notificado correctamente a los usuarios",console.log(e)}).catch(e=>{console.log(e)})}).catch(e=>{console.log(e)})})})})},isActivityInformationCompleted(e){return""!==e.name&&""!==e.responsable&&""!==e.proposedDate}}},p=h,m=a("2877"),b=a("6544"),v=a.n(b),f=a("8336"),k=a("b0af"),x=a("99d9"),g=a("62ad"),y=a("a523"),w=a("490a"),A=a("0fd9"),D=a("2db4"),C=a("a844"),_=Object(m["a"])(p,s,i,!1,null,null,null);t["default"]=_.exports;v()(_,{VBtn:f["a"],VCard:k["a"],VCardActions:x["a"],VCol:g["a"],VContainer:y["a"],VProgressCircular:w["a"],VRow:A["a"],VSnackbar:D["a"],VTextarea:C["a"]})},e539:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"pt-5 mb-5 white--text",attrs:{color:"light-blue darken-4"}},[a("h4",{staticClass:"text-center pb-5"},[e._v("RESPONSABLE DE SEGUIMIENTO")])]),a("v-row",e._l(e.responsibleHeaders,(function(t,s){return a("v-col",{key:s},[a("h4",[e._v(e._s(t.name))])])})),1),e._l(e.responsibleData,(function(t,s){return a("v-row",{key:s},[a("v-col",[a("v-col",[a("v-combobox",{attrs:{color:"blue darken-3","item-color":"blue",items:e.items,label:"Responsable",autocomplete:!1,dense:"",readonly:"Admin"!==e.actualUser.role},on:{click:function(t){return e.$emit("update-responsible-list")}},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"res.name"}})],1)],1),a("v-col",[a("v-text-field",{attrs:{color:"blue darken-3",label:"Puesto","single-line":"",outlined:"",readonly:""},model:{value:t.position,callback:function(a){e.$set(t,"position",a)},expression:"res.position"}})],1),a("v-col",[a("v-text-field",{attrs:{color:"blue darken-3",placeholder:"Firma",readonly:"","single-line":"",outlined:""},model:{value:t.sign,callback:function(a){e.$set(t,"sign",a)},expression:"res.sign"}})],1),e.verifyLastRow(s,e.responsibleData.length)?a("v-btn",{staticClass:"mt-4 mr-2 white--text",attrs:{fab:"",small:"",color:"light-blue darken-2",disabled:"Admin"!==e.actualUser.role},on:{click:e.addResponsible}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-plus")])],1):a("v-btn",{staticClass:"mt-4 mr-2 white--text",attrs:{fab:"",small:"",color:"light-blue darken-2",disabled:"Admin"!==e.actualUser.role},on:{click:function(t){return e.removeResponsible(s)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-minus")])],1)],1)}))],2)},i=[],r=a("d3b8"),o=a("bc3a"),n=a.n(o),l=a("f601"),c={props:{responsibleData:{type:Array,default:function(){return[]}},actualUser:{type:Object,default:function(){return{}}}},mounted(){this.getUsers(),this.checkResponsibleData()},data(){return{responsibleHeaders:[{name:"Nombre"},{name:"Puesto"},{name:"Firma"}],verifyLastRow:r["a"],users:[],items:[]}},methods:{getUsers(){let e={headers:{"x-access-token":this.$store.state.token}};n.a.get(l["b"]+"/api/users",e).then(e=>{this.users=e.data}).catch(e=>{console.log(e)}).then(()=>{this.formatUsers()})},formatUsers(){this.users.forEach(e=>{let t=this.getNameWithFormat(e.firstNames,e.paternalLastName,e.maternalLastName);"  "!==t&&this.items.push({text:t,value:e._id})})},getNameWithFormat(e,t,a){return e+" "+t+" "+a},checkResponsibleData(){this.responsibleData.length<1&&this.addResponsible()},addResponsible(){let e={name:"",position:"",sign:""};this.responsibleData.push(e)},removeResponsible(e){this.responsibleData.splice(e,1)}}},d=c,u=a("2877"),h=a("6544"),p=a.n(h),m=a("8336"),b=a("b0af"),v=a("62ad"),f=a("2b5d"),k=a("a523"),x=a("132d"),g=a("0fd9"),y=a("8654"),w=Object(u["a"])(d,s,i,!1,null,null,null);t["default"]=w.exports;p()(w,{VBtn:m["a"],VCard:b["a"],VCol:v["a"],VCombobox:f["a"],VContainer:k["a"],VIcon:x["a"],VRow:g["a"],VTextField:y["a"]})}}]);
//# sourceMappingURL=chunk-5f8ebd94.b710837a.js.map